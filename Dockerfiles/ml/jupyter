# jupyter
RUN pip install jupyter==1.0.0 \
  jupyter-contrib-nbextensions==0.5.1 \
  jupyterthemes==0.20.0
RUN jupyter-notebook --generate-config && \
  echo 'c.NotebookApp.ip = "0.0.0.0"' >> .jupyter/jupyter_notebook_config.py && \
  echo 'c.NotebookApp.open_browser = False' >> .jupyter/jupyter_notebook_config.py
RUN jt -t monokai -T -N -kl -f inconsolata -tfs 11 -cellw 90% && \
  jupyter nbextension enable --py --sys-prefix widgetsnbextension
RUN mkdir -p $(jupyter --data-dir)/nbextensions && \
  cd $(jupyter --data-dir)/nbextensions && \
  git clone https://github.com/lambdalisue/jupyter-vim-binding vim_binding && \
  jupyter nbextension enable vim_binding/vim_binding
RUN cd .jupyter/custom && \
  echo '/* Jupyter cell is in normal mode when code mirror */' >> tmp_custom.css && \
  echo '.edit_mode .cell.selected .CodeMirror-focused.cm-fat-cursor {' >> tmp_custom.css && \
  echo ' background-color: #000000 !important;' >> tmp_custom.css && \
  echo '}' >> tmp_custom.css && \
  echo '/* Jupyter cell is in insert mode when code mirror */' >> tmp_custom.css && \
  echo '.edit_mode .cell.selected .CodeMirror-focused:not(.cm-fat-cursor) {' >> tmp_custom.css && \
  echo ' background-color: #000000 !important;' >> tmp_custom.css && \
  echo '}' >> tmp_custom.css && \
  cat custom.css >> tmp_custom.css && \
  mv tmp_custom.css custom.css

